<div class="container">
  <div id="learn" class="panel">
    <div class="panel-header text-center">
      <figure class="avatar">
        <img src="{{ app.router.static.url(filename='img/hexagon-2307348.svg') }}">
      </figure>
      <div class="panel-title mt-10">Learn Mode</div>
      <div class="panel-subtitle">EXPLORE, UNDERSTAND, ANALYZE</div>
    </div>

    <nav class="panel-nav">
      <ul class="tab tab-block">
        <li class="tab-item">
          <a href="#trace">
            Trace
          </a>
        </li>
        <li class="tab-item">
          <a href="#results">
            Results
          </a>
        </li>
        {% if index_type in ['gow', 'goe'] %}
        <li class="tab-item">
          <a href="#score-components-plot">
            Parallel Coordinates Plot: Score Components
          </a>
        </li>
        {% endif %}
        <li class="tab-item">
          <a href="#score-explanation">
            Score
          </a>
        </li>
        <li class="tab-item">
          <a href="#dataset">
            Collection
          </a>
        </li>
      </ul>
    </nav>

    <div class="panel-body">
      <div id="trace" class="tab-content d-hide">
        TRACE
      </div>

      <div id="results" class="tab-content d-hide">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th class="text-right">Rank</th>

              {% if index_type == 'gow' %}
              <th title="Term Weight x Inverse Document Frequency" class="text-right">TW-IDF(q, d)</th>
              {% elif index_type == 'goe' %}
              <th title="Entity Weight x Term Entity Frequency" class="text-right">EW-TEF(q, e)</th>
              {% else %}
              <th class="text-right">Score(q, d)</th>
              {% endif %}

              <th>Doc ID</th>
            </tr>
          </thead>
          <tbody>
            {% for result in results %}
            <tr>
              <td class="text-right">{{ loop.index }}</td>
              <td class="text-right"> {{ '%f' % result.score|float }} </td>
              <td>{{ result.docID }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      {% if index_type in ['gow', 'goe'] %}
      <div id="score-components-plot" class="parcoords tab-content d-hide"></div>
      {% endif %}

      <div id="score-explanation" class="tab-content container d-hide">
        <div class="column">
          {% if index_type in ['gow', 'goe', 'hgoe'] %}
          {% include 'search/debug/ranking_models/%s.html' % index_type %}
          {% else %}
          <span class="label label-error">There is no information about this ranking function.</span>
          {% endif %}
        </div>
      </div>

      <div id="dataset" class="tab-content d-hide">
        <div class="container">
          <div class="column">
            {% if dataset in ['wikipedia_data', 'inex'] %}
            {% include 'search/debug/collections/%s.html' % dataset %}
            {% else %}
            <span class="label">There is no information about this dataset.</span>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
