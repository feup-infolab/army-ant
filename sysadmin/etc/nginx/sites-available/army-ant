upstream army_ant {
    server unix:/tmp/army_ant_1.sock;
    server unix:/tmp/army_ant_2.sock;
    server unix:/tmp/army_ant_3.sock;
    server unix:/tmp/army_ant_4.sock;
}

server {
	listen 80 default_server;

	client_max_body_size 4g;

	location / {
		proxy_pass http://army_ant/;
		include /etc/nginx/proxy_params;

		proxy_connect_timeout 3600;
		proxy_send_timeout 3600;
		proxy_read_timeout 3600;
		send_timeout 3600;

		auth_basic "Restricted Content";
		auth_basic_user_file /etc/nginx/.htpasswd;
	}
}
